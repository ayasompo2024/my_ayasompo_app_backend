{
	"info": {
		"_postman_id": "7ac3ed25-1750-4bcd-bc48-de52307a44fb",
		"name": "App related API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "CRM Inquiry Case Create API",
			"item": [
				{
					"name": "Create Inquiry Case",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessTokenUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/token",
									"type": "string"
								},
								{
									"key": "authUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/authorize?resource=https://ayascrmsit.crm5.dynamics.com/",
									"type": "string"
								},
								{
									"key": "redirect_uri",
									"value": "https://1asi.onmicrosoft.com/",
									"type": "string"
								},
								{
									"key": "clientSecret",
									"value": "xcS8Q~Q1gTPK~SPssUG5MS1ufj2iNltJEwYk0cbT",
									"type": "string"
								},
								{
									"key": "clientId",
									"value": "91334a9c-6786-4842-8a25-f76d4ee0acbf",
									"type": "string"
								},
								{
									"key": "tokenName",
									"value": "MSD CRM Token",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "default"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"casetypecode\": 2,\r\n    \"title\": \"Insured Name Change\",\r\n    \"ayasompo_enquiryproducttype@odata.bind\": \"/ayasompo_enquiryproducttypes(9c446ac3-c5c3-eb11-bacc-00224816b187)\",\r\n    \"ayasompo_enquirytypes@odata.bind\": \"/ayasompo_enquirytypes(6db787df-6fc3-eb11-bacc-002248171f24)\",\r\n    \"ayasompo_enquirychannels\": 12,\r\n    \"ayasompo_vehicleno\": \"2N/2478(BGO)\",\r\n    \"ayasompo_remark\": \"This is remark\",\r\n    \"customerid_contact@odata.bind\": \"/contacts(5613c951-7ac8-eb11-bacc-000d3a807513)\",\r\n    \"ayasompo_customercode\": \"C00032375\",\r\n    \"ayasompo_policyno\": \"AMI/YGN/MFC/19000043\",\r\n    \"ayasompo_productcode\": \"MFC\",\r\n    \"ayasompo_classcode\": \"MT\",\r\n    \"ayasompo_risksequenceno\": \"00YGN1900284284\",\r\n    \"ayasompo_inquirydatetime\": \"09/20/2021 16:00:00\",\r\n    \"ayasompo_accounthandlerlookup@odata.bind\": \"/ayasompo_accounthandlers(4dc53e9a-0173-ec11-8943-000d3a854914)\",\r\n    \"ayasompo_caseid\": \"E677ACF5-A416-4726-86F3-6532D450E5C6\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "https://ayascrmsit.crm5.dynamics.com/api/data/v9.1/incidents",
							"protocol": "https",
							"host": [
								"ayascrmsit",
								"crm5",
								"dynamics",
								"com"
							],
							"path": [
								"api",
								"data",
								"v9.1",
								"incidents"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Case Number By AYAS case ID",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "accessTokenUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/token",
									"type": "string"
								},
								{
									"key": "authUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/authorize?resource=https://ayascrmsit.crm5.dynamics.com/",
									"type": "string"
								},
								{
									"key": "redirect_uri",
									"value": "https://1asi.onmicrosoft.com/",
									"type": "string"
								},
								{
									"key": "clientSecret",
									"value": "xcS8Q~Q1gTPK~SPssUG5MS1ufj2iNltJEwYk0cbT",
									"type": "string"
								},
								{
									"key": "clientId",
									"value": "91334a9c-6786-4842-8a25-f76d4ee0acbf",
									"type": "string"
								},
								{
									"key": "tokenName",
									"value": "MSD CRM Token",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://ayascrmsit.crm5.dynamics.com/api/data/v9.1/incidents?$select=incidentid,ayasompo_casenumber&$filter=ayasompo_caseid eq 'E677ACF5-A416-4726-86F3-6532D450E5C6'",
							"protocol": "https",
							"host": [
								"ayascrmsit",
								"crm5",
								"dynamics",
								"com"
							],
							"path": [
								"api",
								"data",
								"v9.1",
								"incidents"
							],
							"query": [
								{
									"key": "$select",
									"value": "incidentid,ayasompo_casenumber"
								},
								{
									"key": "$filter",
									"value": "ayasompo_caseid eq 'E677ACF5-A416-4726-86F3-6532D450E5C6'"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Individual Customer ID By Cus Code",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "clientSecret",
									"value": "xcS8Q~Q1gTPK~SPssUG5MS1ufj2iNltJEwYk0cbT",
									"type": "string"
								},
								{
									"key": "clientId",
									"value": "91334a9c-6786-4842-8a25-f76d4ee0acbf",
									"type": "string"
								},
								{
									"key": "accessTokenUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/token",
									"type": "string"
								},
								{
									"key": "authUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/authorize?resource=https://ayascrmsit.crm5.dynamics.com/",
									"type": "string"
								},
								{
									"key": "redirect_uri",
									"value": "https://1asi.onmicrosoft.com/",
									"type": "string"
								},
								{
									"key": "tokenName",
									"value": "MSD CRM Token",
									"type": "string"
								},
								{
									"key": "tokenType",
									"value": "",
									"type": "string"
								},
								{
									"key": "grant_type",
									"value": "authorization_code",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjgzMGQwMmZmLWI3NzUtNDJiNy05MmJjLWVhMDI4YjU4MTZiYSIsIm5iZiI6MTY5ODkxNDEzMSwiZXhwIjoxNjk4OTI0OTMxLCJpYXQiOjE2OTg5MTQxMzF9.Z5UIqrYNRkES1wcpHVPh3H-T3lB8E4vCTcyr9-tydwM",
								"type": "default"
							}
						],
						"url": {
							"raw": "https://ayascrmsit.crm5.dynamics.com/api/data/v9.1/contacts?$select=fullname&$filter=ayasompo_customercode eq 'C000051097'",
							"protocol": "https",
							"host": [
								"ayascrmsit",
								"crm5",
								"dynamics",
								"com"
							],
							"path": [
								"api",
								"data",
								"v9.1",
								"contacts"
							],
							"query": [
								{
									"key": "$select",
									"value": "fullname"
								},
								{
									"key": "$filter",
									"value": "ayasompo_customercode eq 'C000051097'"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Coorporate Customer ID By Cus Code",
					"request": {
						"auth": {
							"type": "oauth2",
							"oauth2": [
								{
									"key": "clientSecret",
									"value": "xcS8Q~Q1gTPK~SPssUG5MS1ufj2iNltJEwYk0cbT",
									"type": "string"
								},
								{
									"key": "clientId",
									"value": "91334a9c-6786-4842-8a25-f76d4ee0acbf",
									"type": "string"
								},
								{
									"key": "accessTokenUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/token",
									"type": "string"
								},
								{
									"key": "authUrl",
									"value": "https://login.microsoftonline.com/f8f6a60d-db1c-4afa-99c7-abbe12b7e400/oauth2/authorize?resource=https://ayascrmsit.crm5.dynamics.com/",
									"type": "string"
								},
								{
									"key": "redirect_uri",
									"value": "https://1asi.onmicrosoft.com/",
									"type": "string"
								},
								{
									"key": "tokenName",
									"value": "MSD CRM Token",
									"type": "string"
								},
								{
									"key": "tokenType",
									"value": "",
									"type": "string"
								},
								{
									"key": "grant_type",
									"value": "authorization_code",
									"type": "string"
								},
								{
									"key": "addTokenTo",
									"value": "header",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://ayascrmsit.crm5.dynamics.com/api/data/v9.1/accounts?$select=name&$filter=ayasompo_code eq 'C000026632'",
							"protocol": "https",
							"host": [
								"ayascrmsit",
								"crm5",
								"dynamics",
								"com"
							],
							"path": [
								"api",
								"data",
								"v9.1",
								"accounts"
							],
							"query": [
								{
									"key": "$select",
									"value": "name"
								},
								{
									"key": "$filter",
									"value": "ayasompo_code eq 'C000026632'"
								}
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Access  token",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"username\" : \"hninly\",\r\n    \"password\" : \"12345678\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://uatecom.ayasompo.com:5003/users/authenticate",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"port": "5003",
					"path": [
						"users",
						"authenticate"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Customers list by Policy",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://uatecom.ayasompo.com/Customer/GetPolicyCustomer?policyno=AYA/YGN/MCP/23000155",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"Customer",
						"GetPolicyCustomer"
					],
					"query": [
						{
							"key": "policyno",
							"value": "AYA/YGN/MCP/23000155"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Filter Customer By NRC or Corpgre Number",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n    \"agentCode\":null,\r\n    \"claimNo\":null,\r\n    \"className\":null,\r\n    \"corpRegNo\":null,\r\n    \"customerCode\":null,\r\n    \"customerName\":null,\r\n    \"debitNoteNo\":null,\r\n    \"inquiryType\":null,\r\n    \"nicNumber\":\"12/MAMAKA(N)564232\",\r\n    \"policyNo\":null,\r\n    \"policyProposalNo\":null,\r\n    \"productName\":null,\r\n    \"riskName\":null,\r\n    \"numOfRecordsPerPage\":\"100\",\r\n    \"pageNumber\":\"1\"\r\n\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://uatecom.ayasompo.com/customer/filterCustomers",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"customer",
						"filterCustomers"
					]
				}
			},
			"response": []
		},
		{
			"name": "Update Customer",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"customerCode\": \"X000002979\",\r\n    \"nicNumber\": \"14/MAMANA(N)108405\",\r\n    \"numOfRecordsPerPage\" : \"100\",\r\n    \"pageNumber\" : \"1\",\r\n    \"customerType\": \"I\",\r\n    \"customerStatus\": \"A\",\r\n    \"customerAddresses\": [\r\n               {\r\n                    \"addressSeqNo\": \"00FIN2100056879\",\r\n                    \"addressCusCode\": \"X000002979\",\r\n                    \"adCity\": \"No (2) Ward (Tha Maing Myo)\",\r\n                    \"adStreet\": \"Rose Street\",\r\n                    \"adBuilding\": null,\r\n                    \"adNumber\": \"No.(001)\",\r\n                    \"adLocationDescription\": \"No.(001), Rose Street, No (2) Ward (Tha Maing Myo)\",\r\n                    \"adDefaultAddress\": \"N\",\r\n                    \"adProvince\": \"MMR013\",\r\n                    \"adDistrict\": \"MMR013D004\",\r\n                    \"adPostalCode\": \"MMR013042701502\",\r\n                    \"adCreatedBy\": \"CRMCI001\",\r\n                    \"adCreatedDate\": \"2021-06-16T08:32:03.000+00:00\",\r\n                    \"adModifiedBy\":\"CRMCI001\",\r\n                    \"adModifiedDate\": \"2021-08-30T08:55:36.000+00:00\",\r\n                    \"adEarthquakeZone\": \"MMR013042\",\r\n                    \"adCycloneZone\": \"MMR014016010\",\r\n                    \"count\": 0\r\n                }\r\n     \r\n    ],\r\n    \"emailAddress\": \"hnintest101010@gmail.com\",\r\n    \"phoneNo1\":\"09795167449\",\r\n    \"phoneNo2\": \"09795167448\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://uatecom.ayasompo.com/customer/updateCustomer",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"customer",
						"updateCustomer"
					]
				}
			},
			"response": []
		},
		{
			"name": "Policy Inquiry",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://uatecom.ayasompo.com/inquiry/policydata/MDk0MjAwNjAzOTM=",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"inquiry",
						"policydata",
						"MDk0MjAwNjAzOTM="
					]
				}
			},
			"response": []
		},
		{
			"name": "Policy List By Cus Code",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://uatecom.ayasompo.com/PolicyManagement/getcustlistpolicies/C000051042",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"PolicyManagement",
						"getcustlistpolicies",
						"C000051042"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Policy List By Cus Code and Risk Name",
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://uatecom.ayasompo.com/PolicyManagement/getcustlistpoliciesbyrisk/?customercode=C000051042&riskname=1P/7586(MDY)",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"PolicyManagement",
						"getcustlistpoliciesbyrisk",
						""
					],
					"query": [
						{
							"key": "customercode",
							"value": "C000051042"
						},
						{
							"key": "riskname",
							"value": "1P/7586(MDY)"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Driver List By Policy Number",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://uatecom.ayasompo.com/ClaimIntimation/getdriverlistbypolnumber?policyno=AYA/YGN/MNP/23000020",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"ClaimIntimation",
						"getdriverlistbypolnumber"
					],
					"query": [
						{
							"key": "policyno",
							"value": "AYA/YGN/MNP/23000020"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "Send SMS",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImU5MzQzZDA4LTdjMzMtNDZlOS1hOWZjLTIyOTk2NDlkNmY4ZCIsIm5iZiI6MTY5NzcwMjc4NCwiZXhwIjoxNjk3NzEzNTg0LCJpYXQiOjE2OTc3MDI3ODR9.PHMEWbYt6OreXfaqDH1gj2CX60ofKtHCQmc5rgk0rmc",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n\r\n    \"phoneNumber\":\"09795167449\",\r\n    \"message\":\"Test Message\",\r\n    \"username\":\"hninly\",\r\n    \"claimNo\":\"CL/YGN/MFC/22000192\"\r\n\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "https://uatecom.ayasompo.com/sms/sendsms",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"sms",
						"sendsms"
					]
				}
			},
			"response": []
		},
		{
			"name": "Get Policy History List By Policy No",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "https://uatecom.ayasompo.com/Inquiry/GetHistoryDataByPolicyNo?policyno=AYA/YGN/FFI/20000768",
					"protocol": "https",
					"host": [
						"uatecom",
						"ayasompo",
						"com"
					],
					"path": [
						"Inquiry",
						"GetHistoryDataByPolicyNo"
					],
					"query": [
						{
							"key": "policyno",
							"value": "AYA/YGN/FFI/20000768"
						}
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "token",
			"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjgzMGQwMmZmLWI3NzUtNDJiNy05MmJjLWVhMDI4YjU4MTZiYSIsIm5iZiI6MTY5OTMzNzE1MCwiZXhwIjoxNjk5MzQ3OTUwLCJpYXQiOjE2OTkzMzcxNTB9.J_k3NNmFSJfW5B2oppLBfyLwgPypJT-NNbJXZnDuspU",
			"type": "default"
		}
	]
}